package com.broadway.beans;

import java.util.ArrayList;
import java.util.List;
import java.util.Map;

import com.javadude.beans.Client;
import com.javadude.beans.CommandListener;

public class ClientImpl implements Client
{

    private List<CommandListener> listeners = new ArrayList<CommandListener>();

    @Override
    public void addCommandListener(CommandListener commandListener)
    {
        listeners.add(commandListener);
    }

    @Override
    public void removeCommandListener(CommandListener commandListener)
    {
        listeners.remove(commandListener);
    }

    @Override
    public void addToCart(String productId, int quantity)
    {
        for (CommandListener listener : listeners)
        {
            listener.addToCart(productId, quantity);
        }
    }

    @Override
    public void removeFromCart(String productId, int quantity)
    {
        for (CommandListener listener : listeners)
        {
            listener.removeFromCart(productId, quantity);
        }
    }

    @Override
    public void returnPurchaseToCart(Map<String, Integer> purchasedItems)
    {
        for (CommandListener listener : listeners)
        {
            listener.returnPurchaseToCart(purchasedItems);
        }
    }

    @Override
    public void purchaseCart()
    {

        for (CommandListener listener : listeners)
        {
            listener.purchaseCart();
        }
    }

}
